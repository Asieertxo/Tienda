{"ast":null,"code":"export const TYPES = {\n  add: \"add\",\n  del: \"del\"\n};\nexport function reducerCart(state, action) {\n  switch (action.type) {\n    case TYPES.add:\n      {\n        let incart = false;\n        state.map(function (item) {\n          if (item.ObjectID == action.payload.ObjectID) {\n            incart = true;\n            return incart;\n          }\n        });\n\n        if (incart == false) {\n          return [...state, { ...action.payload,\n            quantity: 1\n          }];\n        } else {\n          return [...state.map(item => item.ObjectID === action.payload.ObjectID ? { ...item,\n            quantity: item.quantity + 1\n          } : item)];\n        }\n      }\n\n    case TYPES.del:\n      {\n        let incart = state.find(item => item.ObjectID == action.payload.ObjectID);\n        return incart.quantity > 1 ? [...state.map(item => item.ObjectID === action.payload.ObjectID ? { ...item,\n          quantity: item.quantity - 1\n        } : item)] : state.filter(item => item.ObjectID !== action.payload.ObjectID);\n      }\n\n    case TYPES.clear:\n      {}\n\n    default:\n      return state;\n  }\n}\nexport const initialState = [];","map":{"version":3,"sources":["/home/oem/projects/Tienda/src/reducers/cartReducer.js"],"names":["TYPES","add","del","reducerCart","state","action","type","incart","map","item","ObjectID","payload","quantity","find","filter","clear","initialState"],"mappings":"AACA,OAAO,MAAMA,KAAK,GAAG;AACnBC,EAAAA,GAAG,EAAK,KADW;AAEnBC,EAAAA,GAAG,EAAK;AAFW,CAAd;AAKP,OAAO,SAASC,WAAT,CAAqBC,KAArB,EAA2BC,MAA3B,EAAkC;AAEvC,UAAOA,MAAM,CAACC,IAAd;AACE,SAAKN,KAAK,CAACC,GAAX;AAAe;AACb,YAAIM,MAAM,GAAG,KAAb;AACAH,QAAAA,KAAK,CAACI,GAAN,CAAU,UAAUC,IAAV,EAAe;AACvB,cAAGA,IAAI,CAACC,QAAL,IAAiBL,MAAM,CAACM,OAAP,CAAeD,QAAnC,EAA4C;AAC1CH,YAAAA,MAAM,GAAG,IAAT;AACA,mBAAOA,MAAP;AACD;AACF,SALD;;AAMA,YAAGA,MAAM,IAAI,KAAb,EAAmB;AACjB,iBAAO,CAAC,GAAGH,KAAJ,EAAW,EAAC,GAAGC,MAAM,CAACM,OAAX;AAAoBC,YAAAA,QAAQ,EAAC;AAA7B,WAAX,CAAP;AACD,SAFD,MAEK;AACH,iBAAO,CAAC,GAAGR,KAAK,CAACI,GAAN,CAAUC,IAAI,IAAIA,IAAI,CAACC,QAAL,KAAkBL,MAAM,CAACM,OAAP,CAAeD,QAAjC,GAA4C,EAAC,GAAGD,IAAJ;AAAUG,YAAAA,QAAQ,EAACH,IAAI,CAACG,QAAL,GAAe;AAAlC,WAA5C,GAAiFH,IAAnG,CAAJ,CAAP;AACD;AACF;;AAGD,SAAKT,KAAK,CAACE,GAAX;AAAe;AACb,YAAIK,MAAM,GAAGH,KAAK,CAACS,IAAN,CAAYJ,IAAD,IAAUA,IAAI,CAACC,QAAL,IAAiBL,MAAM,CAACM,OAAP,CAAeD,QAArD,CAAb;AACA,eAAOH,MAAM,CAACK,QAAP,GAAkB,CAAlB,GACH,CAAC,GAAGR,KAAK,CAACI,GAAN,CAAUC,IAAI,IAAIA,IAAI,CAACC,QAAL,KAAkBL,MAAM,CAACM,OAAP,CAAeD,QAAjC,GACpB,EAAC,GAAGD,IAAJ;AAAUG,UAAAA,QAAQ,EAACH,IAAI,CAACG,QAAL,GAAe;AAAlC,SADoB,GAErBH,IAFG,CAAJ,CADG,GAIHL,KAAK,CAACU,MAAN,CAAcL,IAAD,IAAUA,IAAI,CAACC,QAAL,KAAkBL,MAAM,CAACM,OAAP,CAAeD,QAAxD,CAJJ;AAMD;;AACD,SAAKV,KAAK,CAACe,KAAX;AAAiB,OAEhB;;AACD;AACE,aAAOX,KAAP;AA9BJ;AAgCD;AAED,OAAO,MAAMY,YAAY,GAAG,EAArB","sourcesContent":["\nexport const TYPES = {\n  add:    \"add\",\n  del:    \"del\",\n};\n\nexport function reducerCart(state,action){\n\n  switch(action.type){\n    case TYPES.add:{\n      let incart = false\n      state.map(function (item){\n        if(item.ObjectID == action.payload.ObjectID){\n          incart = true\n          return incart      \n        }\n      })\n      if(incart == false){\n        return [...state, {...action.payload, quantity:1}]\n      }else{\n        return [...state.map(item => item.ObjectID === action.payload.ObjectID ? {...item, quantity:item.quantity +1}:item)]\n      }\n    }\n\n\n    case TYPES.del:{\n      let incart = state.find((item) => item.ObjectID == action.payload.ObjectID)\n      return incart.quantity > 1 \n        ? [...state.map(item => item.ObjectID === action.payload.ObjectID \n          ? {...item, quantity:item.quantity -1}\n          :item)] \n        : state.filter((item) => item.ObjectID !== action.payload.ObjectID)\n\n    }\n    case TYPES.clear:{\n\n    }\n    default:\n      return state;\n  }\n}\n\nexport const initialState = [];"]},"metadata":{},"sourceType":"module"}